---
title: CHOME
views:
  - title: Main
    icon: mdi:home-assistant
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: entities
            entities:
              - type: custom:fold-entity-row
                entities:
                  - type: custom:fold-entity-row
                    head:
                      entity: light.ceiling_lights
                  - entity: light.living_room_lamp
                  - entity: light.bookshelf
                  - type: custom:fold-entity-row
                    head:
                      entity: light.hallway_lights
                  - type: custom:fold-entity-row
                    head:
                      entity: light.bathroom_lights
                  - entity: light.bedroom_lamp
                  - entity: light.bed
                head:
                  entity: light.all_light_bulbs
                open: true
            state_color: false
          - type: entities
            entities:
              - switch.kitchen_lights
              - type: custom:fold-entity-row
                entities:
                  - entity: switch.desk_lamp
                  - entity: switch.sunlight_lamp
                head:
                  type: section
                  label: Sunlight Lamps
              - name: Plant Lights
                type: custom:fold-entity-row
                entities:
                  - switch.living_room_plant_light
                  - switch.bedroom_plant_light
                head:
                  type: section
                  label: Plant Lights
            show_header_toggle: false
          - type: entities
            entities:
              - name: Adaptive Lighting
                entity: switch.adaptive_lighting_all_light_bulbs
                tap_action:
                  action: more-info
          - title: Adaptive Lighting
            type: custom:popup-card
            card:
              type: entities
              entities:
                - name: Sleep
                  entity: switch.adaptive_lighting_sleep_mode_all_light_bulbs
                - name: Brightness
                  entity: switch.adaptive_lighting_adapt_brightness_all_light_bulbs
                - name: Color
                  entity: switch.adaptive_lighting_adapt_color_all_light_bulbs
            dismissable: true
            entity: switch.adaptive_lighting_all_light_bulbs
      - type: custom:auto-entities
        entities:
          - person.djhanggi
          - sensor.phase_of_day
        card:
          type: entities
        filter:
          template: |
            {% if is_state("sensor.phase_of_day", "Sleeping") %}
              scene.morning
              scene.daytime
              script.snooze_morning_start_time
            {% elif is_state("sensor.phase_of_day", "Morning") %}
              script.snooze_morning_start_time
              script.go_to_sleep
              scene.daytime
            {% elif is_state("sensor.phase_of_day", "Daytime") %}
              scene.daytime
              scene.evening
            {% elif is_state("sensor.phase_of_day", "Evening") %}
              script.go_to_sleep
            {% endif %}

            {% if is_state("person.djhanggi", "not_home") %}
              {% if states("scene.away_return_scene") != "unknown" %}
                scene.away_return_scene
              {% endif %}
            {% endif %}

            {% set last_midnight = now().replace(hour=0, minute=0, second=0) | as_timestamp %} {% set last_peloton = state_attr("script.play_peloton_class", "last_triggered") | as_timestamp %}  {% if last_peloton < last_midnight %}
              script.play_peloton_class
            {% endif %}
          include:
            - entity_id: input_datetime.morning_start_time
      - type: entities
        entities:
          - name: Blinds
            entity: cover.smart_roller_shade_curtain
          - entity: scene.ajar_blinds
        show_header_toggle: false
      - type: vertical-stack
        cards:
          - type: entities
            entities:
              - entity: remote.harmony
          - title: TV
            type: custom:popup-card
            card:
              type: vertical-stack
              cards:
                - type: horizontal-stack
                  cards:
                    - name: Volume +25
                      type: button
                      icon: mdi:volume-plus
                      show_icon: true
                      show_name: true
                      tap_action:
                        action: call-service
                        service: script.tv_change_volume
                        data:
                          delta: 25
                    - name: Volume -25
                      type: button
                      icon: mdi:volume-minus
                      show_icon: true
                      show_name: true
                      tap_action:
                        action: call-service
                        service: script.tv_change_volume
                        data:
                          delta: -25
                - name: Hoth
                  type: custom:tv-card
                  back:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: BACK
                  down:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: DOWN
                  entity: media_player.android_tv_hoth
                  home:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: HOME
                  left:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: LEFT
                  power:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: POWER
                  right:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: RIGHT
                  select:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: CENTER
                  tv: true
                  up:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: UP
                  volume_down:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: VOLUME_DOWN
                  volume_mute:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: MUTE
                  volume_up:
                    service: androidtv.adb_command
                    service_data:
                      entity_id: media_player.android_tv_hoth
                      command: VOLUME_UP
            dismissable: true
            entity: remote.harmony
            left_button_action: {}
            right_button_action: {}
      - type: vertical-stack
        cards:
          - name: Climate
            type: button
            entity: sensor.levoit_humidifier_current_humidity
            show_icon: false
            show_name: true
            tap_action:
              action: more-info
          - type: entities
            entities:
              - entity: climate.living_room_ac
              - entity: fan.dyson_fan
              - entity: climate.bedroom_ac
              - entity: fan.dyson_heater_fan
              - entity: input_number.dyson_heater_fan_target_temperature
              - entity: humidifier.levoit_humidifier
          - title: Climate
            type: custom:popup-card
            card:
              type: vertical-stack
              cards:
                - type: entities
                  entities:
                    - entity: sensor.sonoff_temperature_living_room_humidity
                    - entity: sensor.bedroom_broadlink_humidity
                    - entity: sensor.aqara_temperature_kitchen_temperature
                    - entity: sensor.aqara_temperature_kitchen_humidity
                - type: thermostat
                  entity: climate.living_room_ac
                - type: entities
                  entities:
                    - entity: input_select.living_room_ac_mode
                      hold_action:
                        action: call-service
                        service: script.living_room_ac_set_mode
                    - entity: script.living_room_ac_correct_power
                - type: thermostat
                  entity: climate.bedroom_ac
                - type: entities
                  entities:
                    - entity: input_select.bedroom_ac_mode
                      hold_action:
                        action: call-service
                        service: script.bedroom_ac_set_mode
                    - entity: script.bedroom_ac_correct_power
                - type: entities
                  entities:
                    - entity: script.dyson_fan_correct_power
                    - entity: script.dyson_heater_fan_correct_power
                - type: entities
                  entities:
                    - name: Humidifier out of Water
                      entity: binary_sensor.levoit_humidifier_out_of_water
                    - name: Humidifier Night Light
                      entity: light.levoit_humidifier_night_light
            dismissable: true
            entity: sensor.levoit_humidifier_current_humidity
    path: main
    theme: Backend-selected
  - title: Media
    icon: mdi:play
    badges: []
    cards:
      - type: entities
        entities:
          - sensor.pocketcasts_unlistened_episodes
      - type: entities
        entities:
          - entity: media_player.spotify_djhanggi
          - entity: media_player.android_tv_hoth
          - entity: media_player.cast_hoth
          - entity: media_player.plex_hoth
          - entity: media_player.living_room_speaker
          - entity: media_player.bedroom_speaker
    path: media
    subview: false
    theme: Backend-selected
  - title: Other Devices
    type: sidebar
    icon: mdi:devices
    badges: []
    cards:
      - type: entities
        entities:
          - name: scarif
            entity: sensor.scarif_battery_level
          - name: DND
            entity: sensor.scarif_do_not_disturb_sensor
          - name: Next Alarm
            entity: sensor.scarif_next_alarm
          - entity: input_datetime.next_alarm_time
          - entity: script.set_alarm_on_scarif
      - type: entities
        entities:
          - name: cantonica
            entity: sensor.cantonica_battery_level
          - name: Focus
            entity: binary_sensor.cantonica_focus
      - type: entities
        entities:
          - entity: switch.monitor
        show_header_toggle: false
        state_color: false
    path: overview
    theme: Backend-selected
  - title: Automations
    icon: mdi:home-automation
    badges: []
    cards:
      - type: entities
        entities:
          - entity: automation.set_morning_start_time_to_sunrise
          - entity: input_datetime.morning_start_time
          - entity: input_boolean.open_blinds_in_morning
          - entity: automation.morning
          - entity: automation.plant_care
          - entity: automation.daytime
          - entity: input_datetime.evening_start_time
          - entity: automation.evening
      - type: entities
        entities:
          - entity: automation.away
          - entity: automation.return
      - type: entities
        entities:
          - entity: automation.presence_bathroom_lights
          - entity: automation.presence_kitchen_lights
          - entity: automation.presence_cameras
          - entity: automation.presence_desk_chair
      - type: entities
        entities:
          - entity: automation.pagerduty_alert
          - entity: automation.notify_phone_at_home
          - entity: automation.presence_kitchen_stove
      - type: entities
        entities:
          - entity: automation.turn_off_desk_lamp
          - entity: automation.sync_next_alarm_time_from_scarif
          - entity: automation.laptop_camera_in_use
          - entity: automation.oscillate_fans_on_start
          - entity: automation.play_peloton_class
      - type: entities
        entities:
          - entity: script.setup_guest
          - entity: script.send_off_guest
          - entity: script.setup_vacation
          - entity: script.return_from_vacation
    path: automations
    theme: Backend-selected
  - title: Miscellaneous
    icon: mdi:toolbox-outline
    badges: []
    cards:
      - type: entities
        entities:
          - entity: input_select.relaxation_sound
            hold_action:
              action: call-service
              service: script.play_relaxation_sound
              data:
                media_player_id: media_player.bedroom_speaker
          - entity: script.play_relaxation_sound
            tap_action:
              action: call-service
              service: script.play_relaxation_sound
              data:
                media_player_id: media_player.bedroom_speaker
          - entity: script.spotify_meditate
            tap_action:
              action: call-service
              service: script.play_relaxation_sound
              data:
                media_player_id: media_player.bedroom_speaker
      - type: entities
        entities:
          - entity: input_boolean.is_sleeping
        show_header_toggle: false
        state_color: false
        view_layout:
          position: main
      - type: entities
        entities:
          - entity: switch.party_lights
          - entity: input_number.party_lights_speed
    path: miscellaneous
    theme: Backend-selected
